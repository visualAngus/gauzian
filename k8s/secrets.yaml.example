# ============================================================
# GAUZIAN DEV - Template Secrets Kubernetes
# ============================================================
#
# RECOMMANDÉ : utiliser generate-secrets.sh qui fait tout automatiquement.
#
# UTILISATION MANUELLE :
#   1. Copier ce fichier : cp secrets.yaml.example secrets.yaml
#   2. Remplacer les valeurs par des valeurs base64 :
#        echo -n "ma_valeur" | base64
#   3. Chiffrer : sops --encrypt secrets.yaml > secrets.enc.yaml
#   4. Committer secrets.enc.yaml (NE JAMAIS committer secrets.yaml)
#   5. Supprimer secrets.yaml : rm secrets.yaml
#
# Pour éditer les secrets chiffrés plus tard :
#   sops k8s/secrets.enc.yaml
#
# ============================================================

apiVersion: v1
kind: Secret
metadata:
  name: gauzian-dev-secrets
  namespace: gauzian-dev
type: Opaque
data:
  # Toutes les valeurs sont en base64 : echo -n "valeur" | base64
  DB_USER: ""                     # gauzian_user
  DB_NAME: ""                     # gauzian_db
  DB_PASSWORD: ""                 # mot de passe généré
  DATABASE_URL: ""                # postgres://gauzian_user:PASSWORD@postgres:5432/gauzian_db
  REDIS_PASSWORD: ""              # mot de passe généré
  REDIS_URL: ""                   # redis://:PASSWORD@redis:6379
  MINIO_ROOT_USER: ""             # gauzian-minio
  MINIO_ROOT_PASSWORD: ""         # mot de passe généré
  S3_BUCKET: ""                   # gauzian-bucket
  MINIO_BROWSER_REDIRECT_URL: "" # https://minio.dev.gauzian.pupin.fr
  JWT_SECRET: ""                  # openssl rand -base64 64
  METRICS_SECRET: ""              # openssl rand -base64 32
  SMTP_PASSWORD: ""               # vide en dev
